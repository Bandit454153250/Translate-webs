# 系统设计文档

### 架构设计

1. **用户界面 (UI)**：前端的用户界面是用户与系统交互的入口。它应该友好、直观，包括输入文本框、语言选择、翻译按钮等元素。常见的技术栈包括HTML、CSS和JavaScript，也可以使用现代前端框架如React、Vue.js或Angular。
2. **文档上传框**：用户在这里上传待翻译的文档，支持word，ppt，pdf，excel。
3. **语言选择**：用户选择源语言和目标语言。这可以通过下拉菜单、单选按钮或其他交互方式实现。
4. **翻译请求发送**：用户点击翻译按钮后，前端将收集用户选择的语言和输入的文本，构建请求数据，并通过Ajax、Fetch或其他技术将请求发送到后端服务器。
5. **后端服务器**：后端服务器接收到前端发送的请求，解析请求数据，调用翻译服务（如谷歌翻译API、百度翻译API等）进行翻译。后端还可以处理其他业务逻辑，如用户认证、请求限流等。
6. **翻译结果展示**：后端将翻译结果返回给前端，前端负责将结果展示给用户，显示翻译后的文档，并实现同步滚动和修改结果。
7. **错误处理和用户反馈**：前端需要处理翻译请求失败、超时等情况，并向用户提供友好的错误提示。

![系统架构](D:\downloads\系统架构.jpg)

### 接口设计

**基于Bootstrap和Vue.js的网页在线翻译系统**：这个系统使用了Bootstrap框架和Vue.js技术栈，使用百度翻译API，构建了一个功能完善、界面友好的网页在线翻译系统。

- 用户界面展示：使用Bootstrap框架设计前端页面，确保页面风格统一、美观大方。
- 语言选择：提供多种常用语言供用户选择，如中文、英文、日文、韩文等。
- 文档输入：在输入框中，用户可以输入待翻译的文档，支持多类型文档输入。
- 翻译请求发送：用户点击翻译按钮后，前端将收集用户选择的语言和输入的文档，提取文档中的文字，将其打包成请求数据，然后通过Ajax或Axios等技术与服务器端进行通信，将请求数据发送给服务器端。
- 服务器端处理：服务器端接收到请求数据后，解析出源语言、目标语言和待翻译的文字，根据用户选择的翻译API（百度翻译API），调用相应的接口进行翻译，最后将翻译结果进行处理并返回给前端。
- 翻译结果展示：前端在结果展示区动态渲染翻译结果，清晰明了地呈现目标语言和翻译后的文字。

### 接口列表

1. 首页加载

   URL: ```/```
   方法: ```GET```
   描述: 显示上传的文件列表和最新上传的文件。
   返回值: 渲染模板```index.html```，包括上传的文件列表和最新上传的文件。

2. 上传文件

   URL: ```/upload```
   方法:``` POST```
   描述: 上传文件到服务器。
   参数: 表单中的文件字段名为```file```
   返回值: 重定向到首页(```/```)。

3. 下载文件

   URL: ```/download/<path:filename>```
   方法:``` GET```
   描述: 下载指定文件。
   参数: 文件名
   返回值: 下载指定文件。

4. 获取已上传文件的列表

   URL: ```/get_uploaded_files```
   方法: ```GET```
   描述: 获取已上传文件的列表。
   返回值: 返回JSON格式的已上传文件列表。

5. 显示选定文件内容

   URL:``` /display_selected_file```
   方法:``` GET```
   描述: 根据文件扩展名显示不同类型文件的内容。
   参数:``` selectedFile```（所选文件名）
   返回值: 返回所选文件的内容，用于下载或展示

6. 获取文件

   URL: ```/get-file```
   方法: ```GET```
   描述: 获取特定文件（仅作单元测试用，示例中为Test1.txt）。
   返回值: 返回特定文件的内容。